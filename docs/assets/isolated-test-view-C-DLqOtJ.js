import{b as R,s as g,c as V}from"./index-BAU6mBli.js";import{u as M,r as n,x as p,c as r,b as T,e as E,f as i,w,h as D,a as N,y as z,g as B,d as O}from"./index-CO48Vyzk.js";import{_ as P}from"./index-gmNdF8ZD.js";const A={class:"test-view"},F={class:"w-flex gap2"},S={class:"w-flex gap2 mt4 ovh"},q={__name:"isolated-test-view",setup(U){R();const f=M(),v=n(null);p({datePicker:!0,dark:r(()=>f.darkMode),selectedDate:r(()=>s.selectedDate),locale:r(()=>s.locale)});const s=p({view:n("week"),dark:r(()=>f.darkMode),selectedDate:n(null),viewDate:n(new Date),locale:n(""),startWeekOnSunday:n(!1),todayButton:n(!0),xs:n(!1),sm:n(!1),timeFrom:8*60,timeTo:19*60,timeStep:60,twelveHour:n(!1),hideWeekends:n(!1),hideWeekdays:n([]),viewDayOffset:n(0),clickToNavigate:n(!1),watchRealTime:n(!0),editableEvents:n(!0),events:n([]),eventsOnMonthView:!0});setTimeout(()=>{s.events=[{id:123,title:"Event 1",start:new Date(new Date().setHours(10,0,0,0)),end:new Date(new Date().setHours(11,30,0,0)),schedule:1},{id:228,title:"Event 2",start:new Date(new Date().addDays(1).setHours(11,0,0,0)),end:new Date(new Date().addDays(1).setHours(13,30,0,0)),schedule:2}]},1e3);const k=()=>{s.events.push({title:`Event ${s.events.length}`,start:new Date().subtractHours(4),end:new Date().subtractHours(3),schedule:2})},c=()=>{v.value.view.createEvent({title:"New Event!",start:new Date().subtractHours(2),end:new Date().subtractHours(1),schedule:1})},C=()=>{v.value.view.deleteEvent({id:123})},o=(...a)=>console.log(...a),y=a=>{H(a.start.format(),a.end.format())},H=async(a,e)=>{console.log("fetchEvents",a,e),await new Promise(l=>setTimeout(l,500));const d=g(a),t=g(e);s.events=b(d,t)},b=(a,e)=>{const d=V(a,e),t=[];for(let l=0;l<d;l++)for(let u=0;u<10;u++){const m=new Date(a.addDays(l).setHours(Math.floor(Math.random()*8)+9,Math.floor(Math.random()*60),0,0)),x=m.addHours(1);t.push({title:`Event ${u}`,start:m,end:x})}return console.log("events",t),t};return(a,e)=>{const d=N("w-button");return O(),T("div",A,[E("div",F,[i(d,{onClick:k},{default:w(()=>e[14]||(e[14]=[D("Add event")])),_:1}),i(d,{onClick:c},{default:w(()=>e[15]||(e[15]=[D("Add event")])),_:1}),i(d,{onClick:C},{default:w(()=>e[16]||(e[16]=[D("Delete event")])),_:1})]),E("div",S,[i(B(P),z({class:"grow",ref_key:"vueCalRef",ref:v,view:s.view,"onUpdate:view":e[0]||(e[0]=t=>s.view=t),"selected-date":s.selectedDate,"onUpdate:selectedDate":e[1]||(e[1]=t=>s.selectedDate=t),"view-date":s.viewDate,"onUpdate:viewDate":e[2]||(e[2]=t=>s.viewDate=t)},s,{onReady:e[3]||(e[3]=t=>o("ready",t)),onViewChange:y,onEventCreate:e[4]||(e[4]=t=>o("event-create",t)),onEventClick:e[5]||(e[5]=t=>o("event-click",t)),onEventDrag:e[6]||(e[6]=t=>o("event-drag",t)),onEventDragEnd:e[7]||(e[7]=t=>o("event-drag",t)),onEventDrop:e[8]||(e[8]=t=>o("event-drop",t)),onEventResize:e[9]||(e[9]=t=>o("event-resize",t)),onEventResizeEnd:e[10]||(e[10]=t=>o("event-resize-end",t)),onCellClick:e[11]||(e[11]=t=>o("cell-click",t)),onCellDrag:e[12]||(e[12]=t=>o("cell-drag",t)),onCellDragEnd:e[13]||(e[13]=t=>o("cell-drag-end",t))}),null,16,["view","selected-date","view-date"])])])}}};export{q as default};
