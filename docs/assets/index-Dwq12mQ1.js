import{c as V,x as ce,D as J,V as xe,W as _,r as se,O as Ne}from"./index-BvM_WQDN.js";const z={texts:{weekDays:Array(7).fill(""),weekDaysShort:[],months:Array(12).fill(""),years:"",year:"",month:"",week:"",day:"",today:"",noEvent:"",allDay:"",deleteEvent:"",createEvent:"",dateFormat:"dddd MMMM D, YYYY",am:"am",pm:"pm",truncations:!0},availableViews:{day:{cols:1,rows:1},days:{cols:10,rows:1},week:{cols:7,rows:1},month:{cols:7,rows:6},year:{cols:4,rows:3},years:{cols:5,rows:5}}},et=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],ze=["sun","mon","tue","wed","thu","fri","sat"],Be=ze.reduce((o,n,g)=>(o[n]=g||7,o),{}),Je=(o,n,g)=>{const{dateUtils:S}=o,A=!1,k=V(()=>{if(Y.value[n.view])return n.view;const u=n.datePicker?"month":"week",c=n.view||u;return Y.value[c]?c:(console.warn(`Vue Cal: the provided or default view \`${c}\` is either invalid or not in the list of available views. The first available view will be chosen: \`${Object.keys(Y.value)[0]}\`.`),Object.keys(Y.value)[0])}),L=V(()=>n.sm&&!n.xs),v=V(()=>n.xs||n.datePicker),F=V(()=>n.clickToNavigate||n.datePicker&&n.clickToNavigate!==!1),H=V(()=>{const u={cell:{},event:{}},c=y=>y.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();for(const[y,a]of Object.entries(g)){const[O,$,x]=y.match(/^on(Cell|Event)(.+)$/)||[];O&&(u[$.toLowerCase()][c(x).replace(/^-+|-+$/g,"")]=a)}return u}),C=V(()=>{var c;const u={};return n.hideWeekends&&(u[6]=!0)&&(u[7]=!0),(c=n.hideWeekdays)!=null&&c.length&&n.hideWeekdays.forEach(y=>u[Be[y]]=!0),u}),M=V(()=>n.hideWeekends||C.value[6]&&C.value[7]),Y=V(()=>{const u=n.datePicker;let c=0,y={};const a=n.views;return u&&!a?{month:{...z.availableViews.month},year:{...z.availableViews.year},years:{...z.availableViews.years}}:(a?(Array.isArray(a)?y=a.reduce((O,$)=>(typeof $=="string"&&z.availableViews[$]?O[$]=z.availableViews[$]:c++,O),{}):typeof a=="object"&&(y=Object.entries(a).reduce((O,[$,x])=>{const{cols:I,rows:re}=z.availableViews[$];return O[$]={cols:x.cols||I,rows:x.rows||re},O},{})),c&&console.warn("Vue Cal: the provided `views` prop contains invalid views that will be ignored."),Object.keys(y).length||(console.warn("Vue Cal: No valid view in the provided `views` prop. Falling back to default views."),y={...z.availableViews})):y={...z.availableViews},y)}),W=V(()=>n.datePicker?"month":Y.value.week?"week":Object.keys(Y.value)[0]),s=V(()=>{if(typeof n.selectedDate=="string")return S.stringToDate(n.selectedDate);if(n.selectedDate instanceof Date)return n.selectedDate;n.selectedDate?console.warn("Vue Cal: The provided selected date is invalid:",n.selectedDate):console.log("Vue Cal: Info - The provided selected date is undefined.")}),w=V(()=>{if(!n.disableDays)return[];const u=[];if(Array.isArray(n.disableDays))for(let c of n.disableDays){let y=c;typeof c=="string"?y=S.stringToDate(c):c instanceof Date&&(c=S.formatDate(c,"YYYY-MM-DD")),y instanceof Date&&!isNaN(y.getTime())?u.push(c):console.warn("Vue Cal: The provided `disableDays` prop contains an invalid date:",c)}else console.warn("Vue Cal: The provided `disableDays` prop is invalid:",n.disableDays);return u}),t=V(()=>{let u=null;return n.minDate&&typeof n.minDate=="string"?u=S.stringToDate(n.minDate):n.minDate&&n.minDate instanceof Date&&(u=n.minDate),(u==null?void 0:u.getTime())||null}),l=V(()=>{let u=null;return n.maxDate&&typeof n.maxDate=="string"?u=S.stringToDate(n.maxDate):n.maxDate&&n.maxDate instanceof Date&&(u=n.maxDate),(u==null?void 0:u.getTime())||null}),D=V(()=>{var y;const{view:u}=o;return n.schedules.length&&(u.isDay||u.isDays||u.isWeek)&&((y=n.schedules)==null?void 0:y.map((a,O)=>({...a,id:a.id??O+1})))||void 0}),f=V(()=>{const u={drag:!0,resize:!0,delete:!0,create:!0};return n.editableEvents===!0?u:n.editableEvents===!1?Object.keys(u).map(c=>u[c]=!1):{...u,...n.editableEvents}}),m=async u=>{var y;let c=Object.assign({"../i18n/ar.json":()=>_(()=>import("./ar-BYzjjpsv.js"),[]).then(a=>a.default),"../i18n/bg.json":()=>_(()=>import("./bg-DMHwWaHq.js"),[]).then(a=>a.default),"../i18n/bn.json":()=>_(()=>import("./bn-BMHg_6Cc.js"),[]).then(a=>a.default),"../i18n/bs.json":()=>_(()=>import("./bs-BQ6MYvQz.js"),[]).then(a=>a.default),"../i18n/ca.json":()=>_(()=>import("./ca-RJZ1kJCp.js"),[]).then(a=>a.default),"../i18n/cs.json":()=>_(()=>import("./cs-DUR8CfDR.js"),[]).then(a=>a.default),"../i18n/da.json":()=>_(()=>import("./da-C24v82sE.js"),[]).then(a=>a.default),"../i18n/de.json":()=>_(()=>import("./de-BdfGCsIh.js"),[]).then(a=>a.default),"../i18n/el.json":()=>_(()=>import("./el-BbeSS82J.js"),[]).then(a=>a.default),"../i18n/en-gb.json":()=>_(()=>import("./en-gb-CdanBkea.js"),[]).then(a=>a.default),"../i18n/en-us.json":()=>_(()=>Promise.resolve().then(()=>Qe),void 0).then(a=>a.default),"../i18n/es.json":()=>_(()=>import("./es-BAvNIXnQ.js"),[]).then(a=>a.default),"../i18n/et.json":()=>_(()=>import("./et-BB2GC4z2.js"),[]).then(a=>a.default),"../i18n/fa.json":()=>_(()=>import("./fa-CLNQrKiD.js"),[]).then(a=>a.default),"../i18n/fi.json":()=>_(()=>import("./fi-C3bvOL2F.js"),[]).then(a=>a.default),"../i18n/fr.json":()=>_(()=>import("./fr-GKuwB6u6.js"),[]).then(a=>a.default),"../i18n/he.json":()=>_(()=>import("./he-dgw3ddFB.js"),[]).then(a=>a.default),"../i18n/hr.json":()=>_(()=>import("./hr-H7xnaszL.js"),[]).then(a=>a.default),"../i18n/hu.json":()=>_(()=>import("./hu-D5PQi6ht.js"),[]).then(a=>a.default),"../i18n/id.json":()=>_(()=>import("./id-C4V9iQKh.js"),[]).then(a=>a.default),"../i18n/is.json":()=>_(()=>import("./is-B36p4HLL.js"),[]).then(a=>a.default),"../i18n/it.json":()=>_(()=>import("./it-BYE8Pv4L.js"),[]).then(a=>a.default),"../i18n/ja.json":()=>_(()=>import("./ja-C_20UUx6.js"),[]).then(a=>a.default),"../i18n/ka.json":()=>_(()=>import("./ka-CNxn4HrL.js"),[]).then(a=>a.default),"../i18n/ko.json":()=>_(()=>import("./ko-C66lSvgy.js"),[]).then(a=>a.default),"../i18n/lt.json":()=>_(()=>import("./lt-CSQtJejA.js"),[]).then(a=>a.default),"../i18n/mn.json":()=>_(()=>import("./mn-OFyF7cuL.js"),[]).then(a=>a.default),"../i18n/nl.json":()=>_(()=>import("./nl-p6pls65L.js"),[]).then(a=>a.default),"../i18n/no.json":()=>_(()=>import("./no-ukJhddl5.js"),[]).then(a=>a.default),"../i18n/pl.json":()=>_(()=>import("./pl-BLhEwn5P.js"),[]).then(a=>a.default),"../i18n/pt-br.json":()=>_(()=>import("./pt-br-Bqj88eex.js"),[]).then(a=>a.default),"../i18n/pt-pt.json":()=>_(()=>import("./pt-pt-Bqj88eex.js"),[]).then(a=>a.default),"../i18n/ro.json":()=>_(()=>import("./ro-DIcQOJbf.js"),[]).then(a=>a.default),"../i18n/ru.json":()=>_(()=>import("./ru-CFk3STll.js"),[]).then(a=>a.default),"../i18n/sk.json":()=>_(()=>import("./sk-BVV3GKLZ.js"),[]).then(a=>a.default),"../i18n/sl.json":()=>_(()=>import("./sl-f5pM865d.js"),[]).then(a=>a.default),"../i18n/sq.json":()=>_(()=>import("./sq-BsCWVll4.js"),[]).then(a=>a.default),"../i18n/sr.json":()=>_(()=>import("./sr-BpAzoY7E.js"),[]).then(a=>a.default),"../i18n/sv.json":()=>_(()=>import("./sv-ifbbDt9U.js"),[]).then(a=>a.default),"../i18n/tr.json":()=>_(()=>import("./tr-CqPh9iY6.js"),[]).then(a=>a.default),"../i18n/uk.json":()=>_(()=>import("./uk-CBcda3hV.js"),[]).then(a=>a.default),"../i18n/vi.json":()=>_(()=>import("./vi-Lfa-VYGA.js"),[]).then(a=>a.default),"../i18n/zh-cn.json":()=>_(()=>import("./zh-cn-CFCd-XoD.js"),[]).then(a=>a.default),"../i18n/zh-hk.json":()=>_(()=>import("./zh-hk-BYHSteah.js"),[]).then(a=>a.default)});{if(!c[`../i18n/${u}.json`]){console.warn(`Vue Cal: the locale \`${u}\` does not exist. Falling back to \`en-us\`.`),u="en-us";return}c=await((y=c[`../i18n/${u}.json`])==null?void 0:y.call(c))}o.texts=Object.assign(o.texts,Object.assign({...z.texts},c)),S.updateTexts(o.texts)},b=ce(n.events||[]);return J(()=>n.events,u=>b.splice(0,b.length,...u)),J(()=>n.locale,u=>m(u||"en-us")),(n.locale||!o.texts.today)&&m(n.locale||"en-us"),{...xe(n),events:b,eventListeners:H,defaultView:W,availableViews:Y,disableDays:w,ready:A,sm:L,xs:v,clickToNavigate:F,hideWeekdays:C,hideWeekends:M,minTimestamp:t,maxTimestamp:l,schedules:D,selectedDate:s,editableEvents:f,view:k,get hasHiddenDays(){return Object.keys(C.value).length},get size(){return v.value?"xs":L.value?"sm":"lg"},loadTexts:m}},tt=(o,n)=>{const g=n.timeTo-n.timeFrom;return(o-n.timeFrom)*100/g},Ge=(o,n)=>{const g=n.timeTo-n.timeFrom;return~~(o*g/100+n.timeFrom)},Ze=(o,n)=>{const g=n.clientHeight;return o*100/g},he=ce({id:null,date:null});let pe=!1,ye=!0;const G=ce({el:null,cell:null,timeout:null}),U=ce({eventId:null,fromVueCal:null,toVueCal:null});function qe(o){const{config:n,view:g,eventsManager:S,emit:A,uid:k,dateUtils:L}=o,v=t=>{var c;const{timeStep:l,timeCellHeight:D,timeFrom:f}=n,m=(((c=t.touches)==null?void 0:c[0])||t).clientY,{top:b}=t.currentTarget.getBoundingClientRect(),u=m-b-~~t.dataTransfer.getData("cursor-grab-at");return Ge(Ze(u,t.currentTarget),n)},F=(t,l,D)=>{const f=l.duration||H(l.start,l.end)||n.timeStep;let m=Math.max(v(t),0);if(n.snapToInterval){const y=m+n.snapToInterval/2;m=y-y%n.snapToInterval}const b=new Date(new Date(D).setMinutes(m)),u=Math.min(m+f,24*60),c=new Date(new Date(D).setMinutes(u));return{start:b,end:c}},H=(t,l)=>Math.round((l-t)/6e4);return{eventDragStart:(t,l)=>{if(t.target.nodeType===3||o.touch.isResizingEvent)return t.preventDefault();t.dataTransfer.effectAllowed="move",t.dataTransfer.dropEffect="move";const D={...l,_:{id:l._.id,duration:H(l.start,l.end)}};try{t.dataTransfer.setData("text/plain",""),t.dataTransfer.setData("event",JSON.stringify(D)),t.dataTransfer.setData("cursor-grab-at",t.offsetY)}catch(m){return console.warn("Vue Cal: Failed to set drag data:",m),t.preventDefault()}U.eventId=l._.id,U.fromVueCal=k;const f=t.target.closest(".vuecal__event");f.classList.add("vuecal__event--dragging-ghost"),setTimeout(()=>{f.classList.add("vuecal__event--dragging-original"),f.classList.remove("vuecal__event--dragging-ghost")},0),pe=!1,Object.assign(he,{id:g.id,date:g.firstCellDate}),ye=!0,o.touch.isDraggingEvent=!0},eventDragEnd:(t,l)=>{U.eventId=null,t.target.closest(".vuecal__event").classList.remove("vuecal__event--dragging-original");const{fromVueCal:D,toVueCal:f}=U;f&&D!==f&&S.deleteEvent(l._.id,3),U.fromVueCal=null,U.toVueCal=null,pe&&ye&&he.id&&g.switchView(he.id,he.date,!0),o.touch.isDraggingEvent=!1},cellDragEnter:(t,l)=>{const{start:D}=l,f=t.currentTarget;if(!t.currentTarget.contains(t.relatedTarget)){if(f===G.el||!f.className.includes("vuecal__cell-content"))return!1;G.el&&(G.cell.highlighted=!1),Object.assign(G,{el:f,cell:l,timeout:clearTimeout(G.timeout)}),l.highlighted=!0,["years","year","month"].includes(g.id)&&(G.timeout=setTimeout(()=>o.switchToNarrowerView(D),2e3))}},cellDragOver:(t,l)=>{const{start:D,schedule:f}=l;t.preventDefault(),l.highlighted=!0,(f||f===0)&&(l.highlightedSchedule=f)},cellDragLeave:(t,l)=>{t.preventDefault(),!t.currentTarget.contains(t.relatedTarget)&&(l.highlightedSchedule=!1,G.cell===l&&(clearTimeout(G.timeout),Object.assign(G,{el:null,cell:null,timeout:null}),l.highlighted=!1))},cellDragDrop:async(t,l)=>{var O,$,x;t.preventDefault(),clearTimeout(G.timeout),Object.assign(G,{el:null,cell:null,timeout:null});const D=JSON.parse(t.dataTransfer.getData("event")||"{}");D.start&&(D.start=new Date(D.start)),D.end&&(D.end=new Date(D.end));let f;const{start:m,end:b}=F(t,D,l.start),{schedule:u}=((O=t.target.closest("[data-schedule]"))==null?void 0:O.dataset)||{};let c=()=>{};U.fromVueCal===k?(f=S.getEvent(D._.id),f&&(f._.dragging=!1,c=()=>{f.start=m,f.end=b,u!==void 0&&(f.schedule=~~u)})):(f={...D,start:m,end:b,...u!==void 0&&{schedule:~~u},_:{id:(($=D._)==null?void 0:$.id)||D.id,duration:H(m,b)},getOverlappingEvents:()=>S.getEventsInRange(S.getEventsByDate(L.formatDate(m),!0),{start:m,end:b},{schedule:~~u})},c=()=>{f=S.createEvent(f)});let y=!0;const{drop:a}=(x=n.eventListeners)==null?void 0:x.event;a&&(y=await a({e:t,event:{...f,start:m,end:b,schedule:~~u},overlaps:f.getOverlappingEvents({start:m,end:b,schedule:~~u}),cell:l,external:U.fromVueCal!==k})),y!==!1&&c(),l.highlighted=!1,l.highlightedSchedule=null,ye=!1,U.toVueCal=k,A("event-dropped",{e:t,cell:l,event:f,originalEvent:D,external:U.fromVueCal!==k})}}}const Me=(o,n)=>{let g,S,A,k={},L={};const v=se(o),F=()=>{v.value.today||(v.value=n),Date.prototype.addDays=function(e){return Y(this,e||0)},Date.prototype.subtractDays=function(e){return W(this,e||0)},Date.prototype.addHours=function(e){return s(this,e||0)},Date.prototype.subtractHours=function(e){return w(this,e||0)},Date.prototype.addMinutes=function(e){return t(this,e||0)},Date.prototype.subtractMinutes=function(e){return l(this,e||0)},Date.prototype.getWeek=function(){return f(this)},Date.prototype.isToday=function(){return m(this)},Date.prototype.isLeapYear=function(){return c(this)},Date.prototype.format=function(e="YYYY-MM-DD"){return re(this,e)},Date.prototype.formatTime=function(e="HH:mm"){return ee(this,e)}},H=()=>{delete Date.prototype.addDays,delete Date.prototype.subtractDays,delete Date.prototype.addHours,delete Date.prototype.subtractHours,delete Date.prototype.addMinutes,delete Date.prototype.subtractMinutes,delete Date.prototype.getWeek,delete Date.prototype.isToday,delete Date.prototype.isLeapYear,delete Date.prototype.format,delete Date.prototype.formatTime},C=e=>{v.value=e,Date.prototype.subtractDays&&F()},M=()=>(S!==new Date().getDate()&&(g=new Date,S=g.getDate(),A=`${g.getFullYear()}-${g.getMonth()}-${g.getDate()}`),A),Y=(e,d)=>{const i=new Date(e.valueOf());return i.setDate(i.getDate()+d),i},W=(e,d)=>{const i=new Date(e.valueOf());return i.setDate(i.getDate()-d),i},s=(e,d)=>{const i=new Date(e.valueOf());return i.setHours(i.getHours()+d),i},w=(e,d)=>{const i=new Date(e.valueOf());return i.setHours(i.getHours()-d),i},t=(e,d)=>{const i=new Date(e.valueOf());return i.setMinutes(i.getMinutes()+d),i},l=(e,d)=>{const i=new Date(e.valueOf());return i.setMinutes(i.getMinutes()-d),i},D=(e,d)=>{const i=T=>{const j=T%d;return j!==0&&(T+=j>=d/2?d-j:-j),T};if(typeof e=="number")return i(e);if(e instanceof Date){let T=i(e.getMinutes());T>=60&&(e.setHours(e.getHours()+1),T=0),e.setMinutes(T,0,0)}},f=(e,d=!1)=>{const i=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),T=i.getUTCDay()||7;i.setUTCDate(i.getUTCDate()+4-T);const j=new Date(Date.UTC(i.getUTCFullYear(),0,1));return Math.ceil(((i-j)/864e5+1)/7)+(d?1:0)},m=e=>`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`===M(),b=(e,d)=>{if(!e||!d)return console.warn(`Vue Cal: missing date${e?"2":"1"} parameter for comparison with \`isSameDate(date1, date2)\`.`);if(I(e)){if(!I(d))return console.warn(`Vue Cal: invalid date2 provided for comparison with \`isSameDate(date1, date2)\`: \`${d}\`.`)}else return console.warn(`Vue Cal: invalid date1 provided for comparison with \`isSameDate(date1, date2)\`: \`${e}\`.`);return e.getFullYear()===d.getFullYear()&&e.getMonth()===d.getMonth()&&e.getDate()===d.getDate()},u=(e,d,i)=>I(e)?e.getTime()>=d&&e.getTime()<=i:console.warn(`Vue Cal: invalid date provided to \`isInRange(date, rangeStart, rangeEnd)\`: \`${e}\`.`),c=e=>{const d=e.getFullYear();return!(d%400)||d%100&&!(d%4)},y=(e=null,d)=>{const i=e&&new Date(e.valueOf())||new Date,T=d?7:6;return i.setDate(i.getDate()-(i.getDay()+T)%7),i},a=e=>e instanceof Date?e:(e.length===10&&(e+=" 00:00"),new Date(e.replace(/-/g,"/"))),O=e=>e.getHours()*60+e.getMinutes(),$=(e,d)=>{typeof e=="string"&&(e=e.replace(/-/g,"/")),typeof d=="string"&&(d=d.replace(/-/g,"/")),e=new Date(e).setHours(0,0,0,0),d=new Date(d).setHours(0,0,1,0);const i=(new Date(d).getTimezoneOffset()-new Date(e).getTimezoneOffset())*60*1e3;return Math.ceil((d-e-i)/(24*3600*1e3))},x=(e,d,i)=>Math.abs(e.getTime()-d.getTime())<=i*60*1e3,I=e=>e&&e instanceof Date&&!isNaN(e),re=(e,d="YYYY-MM-DD",i=null)=>{if(i||(i=v.value),d||(d="YYYY-MM-DD"),d==="YYYY-MM-DD")return fe(e);k={},L={};const T={YYYY:()=>R(e,i).YYYY,YY:()=>R(e,i).YY(),M:()=>R(e,i).M,MM:()=>R(e,i).MM(),MMM:()=>R(e,i).MMM(),MMMM:()=>R(e,i).MMMM(),MMMMG:()=>R(e,i).MMMMG(),D:()=>R(e,i).D,DD:()=>R(e,i).DD(),S:()=>R(e,i).S(),d:()=>R(e,i).d,dd:()=>R(e,i).dd(),ddd:()=>R(e,i).ddd(),dddd:()=>R(e,i).dddd(),HH:()=>B(e,i).HH,H:()=>B(e,i).H,hh:()=>B(e,i).hh,h:()=>B(e,i).h,am:()=>B(e,i).am,AM:()=>B(e,i).AM,mm:()=>B(e,i).mm,m:()=>B(e,i).m,s:()=>B(e,i).s};return d.replace(/(\{[a-zA-Z]+\}|[a-zA-Z]+)/g,(j,Z)=>{const P=T[Z.replace(/\{|\}/g,"")];return P!==void 0?P():Z})},fe=e=>{const d=e.getMonth()+1,i=e.getDate();return`${e.getFullYear()}-${d<10?"0":""}${d}-${i<10?"0":""}${i}`},ee=(e,d="HH:mm",i=null,T=!1)=>{let j=!1;if(T){const[me,te,ie]=[e.getHours(),e.getMinutes(),e.getSeconds()];me+te+ie===141&&(j=!0)}if(e instanceof Date&&d==="HH:mm")return j?"24:00":ve(e);L={},i||(i=v.value);const Z=B(e,i),P=d.replace(/(\{[a-zA-Z]+\}|[a-zA-Z]+)/g,(me,te)=>{const ie=Z[te.replace(/\{|\}/g,"")];return ie!==void 0?ie:te});return j?P.replace("23:59","24:00"):P},ve=e=>{const d=e.getHours(),i=e.getMinutes();return`${(d<10?"0":"")+d}:${(i<10?"0":"")+i}`},ae=e=>{const d=Math.floor(e/60).toString().padStart(2,0),i=(e%60).toString().padStart(2,0);return`${d}:${i}`},_e=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},R=(e,d)=>{if(k.D)return k;const i=e.getFullYear(),T=e.getMonth()+1,j=e.getDate(),P=(e.getDay()-1+7)%7;return k={YYYY:i,YY:()=>i.toString().substring(2),M:T,MM:()=>T.toString().padStart(2,0),MMM:()=>d.months[T-1].substring(0,3),MMMM:()=>d.months[T-1],MMMMG:()=>(d.monthsGenitive||d.months)[T-1],D:j,DD:()=>j.toString().padStart(2,0),S:()=>_e(j),d:P+1,dd:()=>d.weekDaysShort.length?d.weekDaysShort[P]:d.weekDays[P][0],ddd:()=>d.weekDaysShort.length?d.weekDaysShort[P]:d.weekDays[P].substr(0,3),dddd:()=>d.weekDays[P]},k},B=(e,d)=>{if(L.am)return L;let i,T,j;e instanceof Date?(i=e.getHours(),T=e.getMinutes(),j=e.getSeconds()):(i=Math.floor(e/60),T=Math.floor(e%60));const Z=i%12?i%12:12,P=(d||{am:"am",pm:"pm"})[i===24||i<12?"am":"pm"];return L={H:i,h:Z,HH:i.toString().padStart(2,0),hh:Z.toString().padStart(2,0),am:P,AM:P.toUpperCase(),m:T,mm:T.toString().padStart(2,0),s:j},L};return{addDatePrototypes:F,removeDatePrototypes:H,updateTexts:C,addDays:Y,subtractDays:W,addHours:s,subtractHours:w,addMinutes:t,subtractMinutes:l,snapToInterval:D,getWeek:f,isToday:m,isSameDate:b,isInRange:u,isLeapYear:c,getPreviousFirstDayOfWeek:y,stringToDate:a,dateToMinutes:O,countDays:$,datesInSameTimeStep:x,isValid:I,formatDate:re,formatDateLite:fe,formatTime:ee,formatTimeLite:ve,formatMinutes:ae}},Ue=o=>{const{dateUtils:n,config:g}=o;let S=0;const A=V(()=>{const s={byDate:{},recurring:[],multiday:[],byId:{}},w=g.events.sort((t,l)=>t.start-l.start<0?-1:1);for(const t of w)k(t),t._||(t._={}),t._.id=t._.id||++S,t.delete||(t.delete=l=>C(t._.id,l)),t._.deleting=!1,t._.deleted=!1,t.isOverlapping=(l=null)=>t.getOverlappingEvents(l).length,t.getOverlappingEvents=(l=null)=>{var D;return Y(v(n.formatDate((l==null?void 0:l.start)||t.start),!0),{start:(l==null?void 0:l.start)||t.start,end:(l==null?void 0:l.end)||t.end},{excludeIds:[t._.id],schedule:(D=g.schedules)!=null&&D.length?~~((l==null?void 0:l.schedule)||t.schedule):null})},t._.register=l=>{t._.$el=l,t._.fireCreated&&(o.emit("event-created",t),delete t._.fireCreated)},t._.unregister=()=>{t._.$el=null,t._.register=null,t.isOverlapping=null,t.getOverlappingEvents=null,t.delete=null},s.byId[t._.id]=t,t.recurring?s.recurring.push(t._.id):t._.multiday?(s.multiday.push(t._.id),s.byDate[t._.startFormatted]||(s.byDate[t._.startFormatted]=[]),s.byDate[t._.startFormatted].push(t._.id)):(s.byDate[t._.startFormatted]||(s.byDate[t._.startFormatted]=[]),s.byDate[t._.startFormatted].push(t._.id));return s}),k=s=>{if(typeof s.start=="string"&&(s.start=n.stringToDate(s.start)),typeof s.end=="string"&&(s.end=n.stringToDate(s.end)),s.start.setSeconds(0,0),s.end.setSeconds(0,0),isNaN(s.start)||isNaN(s.end)){isNaN(s.start)?console.error(`Vue Cal: invalid start date for event "${s.title}".`,s.start):console.error(`Vue Cal: invalid end date for event "${s.title}".`,s.end);return}else s.end.getTime()<s.start.getTime()&&console.error(`Vue Cal: invalid event dates for event "${s.title}". The event ends before it starts.`,s.start,s.end);s._||(s._={}),s._.multiday=!n.isSameDate(s.start,new Date(s.end.getTime()-1)),s._.startFormatted=n.formatDate(s.start),s._.startMinutes=~~n.dateToMinutes(s.start),s._.endMinutes=~~n.dateToMinutes(s.end);const w=s.start.getHours(),t=s.start.getMinutes().toString().padStart(2,0),l=s.end.getHours(),D=s.end.getMinutes().toString().padStart(2,0);s._.startTimeFormatted24=`${w.toString().padStart(2,0)}:${t}`,s._.startTimeFormatted12=`${w%12||12}${t?`:${t}`:""} ${w<12?"AM":"PM"}`,s._.endTimeFormatted24=`${l.toString().padStart(2,0)}:${D}`,s._.endTimeFormatted12=`${l%12||12}${D?`:${D}`:""} ${l<12?"AM":"PM"}`,s._.duration=Math.abs(~~((s.end-s.start)/6e4))},L=s=>A.value.byId[s],v=(s,w=!1,t=!1)=>{let l=A.value.byDate[s]||[];return l=w||t?l.map(L):l,t||(l=l.filter(D=>!D.background&&!D._.deleted),w||(l=l.map(D=>D._.id))),l},F=s=>{const w={};for(const{startFormatted:t}of s){w[t]=[];const l=v(t,!1,!0);l.length&&w[t].push(...l)}return w},H=s=>{if(!s.start||!s.end){console.error("Vue Cal: Cannot create an event without valid start and end dates.");return}return g.snapToInterval&&(n.snapToInterval(s.start,g.snapToInterval),n.snapToInterval(s.end,g.snapToInterval)),s={...s},s._||(s._={}),s._.id=++S,s._.fireCreated=!0,g.events.push(s),s},C=async(s,w=0)=>{var m,b;if(!s)return console.warn("Vue Cal: Cannot delete event without its ID or criteria.");let t=typeof s=="string"||!isNaN(s)?s:null;const l=typeof s=="object"?Object.entries(s):null;if(l){const[u,c]=l[0];t=(m=g.events.find(y=>y[u]===c))==null?void 0:m._.id}if(!g.editableEvents.delete)return console.info("Vue Cal: Event deletion is disabled. Enable it with the `editable-events` props.");if(!t)return console.warn("Vue Cal: Cannot delete event without its ID.");const D=g.events.findIndex(u=>u._.id===t);if(D===-1)return console.warn(`Vue Cal: Cannot delete unknown event \`${t}\`.`);const f=g.events[D];if(f.deletable===!1)return console.warn(`Vue Cal: Can't delete event \`${t}\` since it was explicitely set to \`delete: false\`.`);switch(w){case 0:f._.deleting?g.events.splice(D,1):f._.deleting=!0;break;case 1:f._.deleting=!0;break;case 2:f._.deleted=!0,g.events[D]._.deleted=!0,(b=f._.$el)==null||b.dispatchEvent(new CustomEvent("event-deleted",{detail:f._.id}));break;case 3:g.events.splice(D,1),o.emit("update:events",g.events),o.emit("event-delete",f);break}return!0},M=s=>{const w=v(s,!0);if(!w.length)return{cellOverlaps:{},longestStreak:0};const t={};let l=[],D=0;w.sort((f,m)=>f.start-m.start||f.end-f.start-(m.end-m.start));for(const f of w){const m=f._.id;t[m]||(t[m]={overlaps:new Set,maxConcurrent:1,position:0}),l=l.filter(a=>a.end>f.start);let b=l.filter(a=>{var $;return(!(($=g.schedules)!=null&&$.length)||f.schedule===a.schedule)&&a.start<f.end}),u=new Set(b.map(a=>{var O;return((O=t[a._.id])==null?void 0:O.position)??0})),c=0;for(;u.has(c);)c++;t[m].position=c,l.push(f);let y=Math.max(1,...b.map(a=>{var O;return((O=t[a._.id])==null?void 0:O.maxConcurrent)??1}));t[m].maxConcurrent=Math.max(b.length+1,y);for(const a of b)t[a._.id].overlaps.add(m),t[m].overlaps.add(a._.id),t[a._.id].maxConcurrent=t[m].maxConcurrent;D=Math.max(D,t[m].maxConcurrent)}for(const f in t)t[f].overlaps=[...t[f].overlaps];return{cellOverlaps:t,longestStreak:D}},Y=(s=[],{start:w,end:t},{excludeIds:l=[],schedule:D=null})=>{var b;const f=new Set(l),m=[];for(const u of s)!f.has((b=u._)==null?void 0:b.id)&&(D===null||D===u.schedule)&&W(u,w,t)&&m.push(u);return m},W=(s,w,t)=>{const l=s.allDay||!g.time,D=l?new Date(s.start).setHours(0,0,0,0):s.start.getTime(),f=l?new Date(s.end).setHours(23,59,59,999):s.end.getTime(),m=l?new Date(w).setHours(0,0,0,0):w.getTime(),b=l?new Date(t).setHours(23,59,59,999):t.getTime();return f>m&&D<b};return{events:A,getEvent:L,getEventsByDate:v,getViewEvents:F,getCellOverlappingEvents:M,getEventsInRange:Y,createEvent:H,deleteEvent:C,isEventInRange:W}},Ke=({config:o,dateUtils:n,emit:g,texts:S,eventsManager:A},k)=>{const{availableViews:L}=o,v=se(o.view&&L[o.view]?o.view:o.defaultView),F=se(o.selectedDate||null),H=se(new Date),C=se(new Date(o.viewDate||H.value));C.value.setHours(0,0,0,0);const M=se(new Date(C));let Y=null;const W=V(()=>v.value==="month"?M.value:c.value),s=V(()=>v.value==="month"?new Date(M.value.getFullYear(),M.value.getMonth()+1,0,23,59,59,999):a.value),w=V(()=>v.value==="week"?n.getPreviousFirstDayOfWeek(c.value,o.startWeekOnSunday):v.value==="month"?c.value:W.value),t=V(()=>{if(v.value==="week"){const r=n.addDays(w.value,7);return r.setMilliseconds(-1),r}return v.value==="month"?a.value:s.value}),l=V(()=>{const r=H.value.getTime();if(v.value==="week")return w.value.getTime()<=r&&r<=t.value.getTime();const h=c.value.getTime(),E=a.value.getTime();return h<=r&&r<=E});function D(){H.value=new Date,Y=setTimeout(D,60*1e3)}function f(){Y=setTimeout(D,(60-new Date().getSeconds())*1e3),D()}const m=V(()=>{if(!o.availableViews[v.value])return 1;let r=o.availableViews[v.value].cols;return o.hasHiddenDays&&["week","month"].includes(v.value)&&(r-=o.hasHiddenDays),r}),b=V(()=>{var r;return((r=o.availableViews[v.value])==null?void 0:r.rows)||1}),u=V(()=>m.value*b.value),c=V(()=>{if(v.value==="month"){let r=M.value.getDay()||7;return o.startWeekOnSunday&&!o.hideWeekdays[7]&&(r+=1),o.viewDayOffset&&(r-=o.viewDayOffset),n.subtractDays(M.value,r-1)}if(v.value==="week"){const r="1234567".split("").filter(E=>!Object.keys(o.hideWeekdays).includes(E));let h=Math.min(...r);return o.startWeekOnSunday&&!o.hideWeekdays[7]&&(h=1),o.viewDayOffset&&(h+=o.viewDayOffset),n.addDays(M.value,h-1)}return M.value}),y=V(()=>{const r=[],h=["days","week","month"].includes(v.value);let E=0;for(let p=0;p<u.value+E;p++)switch(v.value){case"day":case"days":case"week":case"month":{const N=n.addDays(c.value,p),De=N.getDay()||7;if(h&&o.hasHiddenDays&&o.hideWeekdays[De]){E++;continue}const ne=new Date(N);ne.setHours(23,59,59,999),r.push({start:N,startFormatted:n.formatDate(N),end:ne});break}case"year":r.push({start:new Date(c.value.getFullYear(),p,1,0,0,0,0),end:new Date(c.value.getFullYear(),p+1,0,23,59,59,999)});break;case"years":r.push({start:new Date(c.value.getFullYear()+p,0,1,0,0,0,0),end:new Date(c.value.getFullYear()+p+1,0,0,23,59,59,999)});break}return r}),a=V(()=>y.value[y.value.length-1].end),O=se("right"),$=V(()=>{const r=Object.keys(o.availableViews);return r[r.indexOf(v.value)+1]}),x=V(()=>{const r=Object.keys(o.availableViews);return r[r.indexOf(v.value)-1]});function I(r,h,E=!1){if(!h||!h[r])return r+1;const p=h[r];return E&&typeof p=="string"?p.substring(0,3):p}function re(r,h,E){const{monthsArray:p,monthBeforeDay:N,canTruncate:De,xs:ne}=E,K=r.getMonth(),Q=r.getFullYear(),X=h.getMonth(),le=h.getFullYear(),ge=K!==X,We=Q!==le,q=De&&(ne||ge),oe=r.getDate(),ue=h.getDate();return We?N?`${I(K,p,q)} ${oe}, ${Q} - ${I(X,p,q)} ${ue}, ${le}`:`${oe} ${I(K,p,q)} ${Q} - ${ue} ${I(X,p,q)} ${le}`:ge?N?`${I(K,p,q)} ${oe} - ${I(X,p,q)} ${ue}, ${Q}`:`${oe} ${I(K,p,q)} - ${ue} ${I(X,p,q)} ${Q}`:N?`${I(K,p,q)} ${oe}-${ue}, ${Q}`:`${oe}-${ue} ${I(K,p,q)} ${Q}`}const fe=V(()=>{const{dateFormat:r,months:h,monthsGenitive:E,week:p,truncations:N}=S,De=o.locale,ne=N!==!1,K=r.indexOf("M")<r.indexOf("D"),Q=E&&De==="el"?E:h;switch(v.value){case"day":return n.formatDate(c.value,r);case"days":case"week":{const X={monthsArray:Q,monthBeforeDay:K,canTruncate:ne,xs:o.xs};let le=re(c.value,a.value,X);if(v.value==="week"){const ge=n.getWeek(c.value,o.startWeekOnSunday&&!o.hideWeekdays[7]);le+=` <small>${p} ${ge}</small>`}return le}case"month":{const X=`${o.xs&&ne?"MMM":"MMMM"} YYYY`;return n.formatDate(W.value,X)}case"year":return c.value.getFullYear();case"years":return`${c.value.getFullYear()} - ${s.value.getFullYear()}`}});function ee(){switch(M.value=new Date(C.value||H.value),M.value.setHours(0,0,0,0),v.value){case"day":break;case"days":break;case"week":M.value=n.getPreviousFirstDayOfWeek(M.value,o.startWeekOnSunday&&!o.hideWeekdays[7]);break;case"month":M.value=new Date(M.value.getFullYear(),M.value.getMonth(),1,0,0,0,0);break;case"year":M.value=new Date(M.value.getFullYear(),0,1,0,0,0,0);break;case"years":M.value=new Date(M.value.getFullYear()-M.value.getFullYear()%u.value,0,1,0,0,0,0);break}o.ready&&g("view-change",{id:v.value,title:fe.value,start:W.value,end:s.value,extendedStart:w.value,extendedEnd:t.value,cellDates:y.value,containsToday:l.value,events:Te.value}),H.value=new Date}function ve(r){const h=v.value,E=o.availableViews[h];r[h]&&JSON.stringify(r[h])===JSON.stringify(E)||ee()}function ae(r,h=!0){const E=Object.keys(o.availableViews);v.value!==r&&(E.includes(r)?(O.value=E.indexOf(r)<E.indexOf(v.value)?"left":"right",v.value=r,g("update:view",r),ee()):console.warn(`Vue Cal: the \`${r}\` view is not available.`))}function _e(){$.value?ae($.value):console.warn("Vue Cal: no broader view is available.")}function R(){x.value?ae(x.value):console.warn("Vue Cal: no narrower view is available.")}function B(){d(!1)}function e(){d(!0)}function d(r=!0){let h=new Date(C.value);switch(v.value){case"day":case"days":r?h=n.addDays(a.value,1):h=n.subtractDays(c.value,u.value);break;case"week":{r?(h=n.addDays(t.value,1),h.setHours(0,0,0,0)):h=n.subtractDays(w.value,u.value);break}case"month":{const E=r?1:-1;h=new Date(h.getFullYear(),h.getMonth()+E,1,0,0,0,0);break}case"year":{const E=r?1:-1;h=new Date(h.getFullYear()+E,1,1,0,0,0,0);break}case"years":{const E=r?u.value:-u.value;h=new Date(h.getFullYear()+E,1,1,0,0,0,0);break}}T(h)}function i(){const r=new Date;r.setHours(0,0,0,0),T(r)}function T(r,h=!0,E=!1){if(!n.isValid(r))return console.warn("Vue Cal: can't navigate to the given date: invalid date provided to `updateViewDate(date)`.");let[p,N]=[c.value,a.value];v.value==="month"&&([p,N]=[W.value,s.value]),(!n.isInRange(r,p,N)||E)&&(r.setHours(0,0,0,0),O.value=r.getTime()<p.getTime()?"left":"right",C.value=r,h&&g("update:viewDate",r),ee())}function j(r,h=!0){if(!n.isValid(r))return console.warn("Vue Cal: can't update the selected date: invalid date provided to `updateSelectedDate(date)`.");const{isValid:E,isSameDate:p}=n;(!F.value||!E(F.value)||!p(r,F.value))&&(r.setHours(0,0,0,0),F.value=r,h&&g("update:selectedDate",r))}function Z(r){!r&&!M.value.getDay()?T(n.addDays(M.value,1),!0,!0):(O.value="left",ee())}function P(r){r&&o.startWeekOnSunday&&!M.value.getDay()?T(n.addDays(M.value,1),!0,!0):!r&&o.startWeekOnSunday&&M.value.getDay()===1&&T(n.subtractDays(M.value,1),!0,!0)}function me(){console.log("toggling weekdays",o.hideWeekdays)}function te(r){var p;const h=(p=k.value)==null?void 0:p.querySelector(".vuecal__scrollable"),E=r?r*o.timeCellHeight/o.timeStep:0;h==null||h.scrollTo({top:E,behavior:"smooth"})}function ie(){const r=new Date;te(r.getHours()*60+r.getMinutes())}function He(){te(0)}const Te=V(()=>A.getViewEvents(y.value)),Re=A.createEvent,Fe=A.deleteEvent;return J(()=>o.view,r=>ae(r,!1)),J(()=>o.availableViews,ve),J(()=>o.datePicker,()=>ae("month",!1)),J(()=>o.viewDate,r=>T(r,!1)),J(()=>o.selectedDate,r=>j(r,!1)),J(()=>o.startWeekOnSunday,r=>Z(r)),J(()=>o.hideWeekends,r=>P(r)),J(()=>o.hideWeekdays,me),J(()=>u.value,()=>{u.value>90&&console.warn("Vue Cal: high cell count detected. Performance may degrade when interactions are enabled.")}),J(()=>o.watchRealTime,r=>{r&&o.time?f():Y=clearTimeout(Y)}),ee(),o.time&&o.watchRealTime&&f(),Ne(()=>Y=clearTimeout(Y)),{now:H,id:v,broaderView:$,narrowerView:x,title:fe,viewDate:C,start:W,end:s,extendedStart:w,extendedEnd:t,firstCellDate:c,lastCellDate:a,containsToday:l,selectedDate:F,cellDates:y,cols:m,rows:b,events:Te,transitionDirection:O,switch:ae,broader:_e,narrower:R,previous:B,next:e,navigate:d,goToToday:i,updateViewDate:T,updateSelectedDate:j,scrollToCurrentTime:ie,scrollToTime:te,scrollTop:He,createEvent:Re,deleteEvent:Fe,get isDay(){return v.value==="day"},get isDays(){return v.value==="days"},get isWeek(){return v.value==="week"},get isMonth(){return v.value==="month"},get isYear(){return v.value==="year"},get isYears(){return v.value==="years"}}},be=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ee=["January","February","March","April","May","June","July","August","September","October","November","December"],Ve="Years",ke="Year",Oe="Month",Se="Week",Ye="Days",$e="Day",je="Today",Ce="No Event",Ie="All day",Pe="Delete",Ae="Create an event",Le="dddd, MMMM D, YYYY",we={weekDays:be,months:Ee,years:Ve,year:ke,month:Oe,week:Se,days:Ye,day:$e,today:je,noEvent:Ce,allDay:Ie,deleteEvent:Pe,createEvent:Ae,dateFormat:Le},Qe=Object.freeze(Object.defineProperty({__proto__:null,allDay:Ie,createEvent:Ae,dateFormat:Le,day:$e,days:Ye,default:we,deleteEvent:Pe,month:Oe,months:Ee,noEvent:Ce,today:je,week:Se,weekDays:be,year:ke,years:Ve},Symbol.toStringTag,{value:"Module"})),de=ce({texts:{...z.texts},dateUtils:Me(z.texts,we)}),at=({props:o,emit:n,attrs:g,vuecalEl:S,uid:A})=>{const k=ce({uid:A,emit:n,texts:{...de.texts},dateUtils:{...de.dateUtils},now:new Date,config:{},eventsManager:{},view:{},dnd:{},touch:{isDraggingCell:!1,isDraggingEvent:!1,isResizingEvent:!1}});return k.dateUtils=Me(Object.assign(z.texts,k.texts),we),k.config=Je(k,o,g),k.eventsManager=Ue(k),k.view=Ke(k,S),k.dnd=qe(k),k},nt=o=>{de.texts={...z.texts,...o},de.dateUtils.updateTexts(de.texts)},{addDatePrototypes:st,removeDatePrototypes:rt,updateTexts:it,addDays:lt,subtractDays:ot,addHours:ut,subtractHours:dt,addMinutes:ct,subtractMinutes:ft,getWeek:Dt,isToday:vt,isSameDate:mt,isInRange:gt,isLeapYear:ht,getPreviousFirstDayOfWeek:_t,stringToDate:yt,dateToMinutes:wt,countDays:Tt,datesInSameTimeStep:pt,isValid:Mt,formatDate:bt,formatDateLite:Et,formatTime:Vt,formatTimeLite:kt,formatMinutes:Ot}=de.dateUtils;export{lt as a,st as b,Tt as c,et as d,Ze as e,bt as f,at as g,tt as m,Ge as p,yt as s,nt as u,ze as w};
