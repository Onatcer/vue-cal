import{c as k,x as fe,D as G,V as Ne,W as y,r as ie,N as xe}from"./index-F1lNJKhl.js";const Z={texts:{weekDays:Array(7).fill(""),weekDaysShort:[],months:Array(12).fill(""),years:"",year:"",month:"",week:"",day:"",today:"",noEvent:"",allDay:"",deleteEvent:"",createEvent:"",dateFormat:"dddd MMMM D, YYYY",am:"am",pm:"pm",truncations:!0},availableViews:{day:{cols:1,rows:1},days:{cols:10,rows:1},week:{cols:7,rows:1},month:{cols:7,rows:6},year:{cols:4,rows:3},years:{cols:5,rows:5}}},et=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],ze=["sun","mon","tue","wed","thu","fri","sat"],Be=ze.reduce((o,n,h)=>(o[n]=h||7,o),{}),Je=(o,n,h)=>{const{dateUtils:C}=o,P=!1,Y=k(()=>{if($.value[n.view])return n.view;const u=n.datePicker?"month":"week",v=n.view||u;return $.value[v]?v:(console.warn(`Vue Cal: the provided or default view \`${v}\` is either invalid or not in the list of available views. The first available view will be chosen: \`${Object.keys($.value)[0]}\`.`),Object.keys($.value)[0])}),W=k(()=>n.sm&&!n.xs),m=k(()=>n.xs||n.datePicker),N=k(()=>n.clickToNavigate||n.datePicker&&n.clickToNavigate!==!1),R=k(()=>{const u={cell:{},event:{}},v=p=>p.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();for(const[p,a]of Object.entries(h)){const[S,j,M]=p.match(/^on(Cell|Event)(.+)$/)||[];S&&(u[j.toLowerCase()][v(M).replace(/^-+|-+$/g,"")]=a)}return u}),F=k(()=>{var v;const u={};return n.hideWeekends&&(u[6]=!0)&&(u[7]=!0),(v=n.hideWeekdays)!=null&&v.length&&n.hideWeekdays.forEach(p=>u[Be[p]]=!0),u}),V=k(()=>n.hideWeekends||F.value[6]&&F.value[7]),$=k(()=>{const u=n.datePicker;let v=0,p={};const a=n.views;return u&&!a?{month:{...Z.availableViews.month},year:{...Z.availableViews.year},years:{...Z.availableViews.years}}:(a?(Array.isArray(a)?p=a.reduce((S,j)=>(typeof j=="string"&&Z.availableViews[j]?S[j]=Z.availableViews[j]:v++,S),{}):typeof a=="object"&&(p=Object.entries(a).reduce((S,[j,M])=>{const{cols:U,rows:x}=Z.availableViews[j];return S[j]={cols:M.cols||U,rows:M.rows||x},S},{})),v&&console.warn("Vue Cal: the provided `views` prop contains invalid views that will be ignored."),Object.keys(p).length||(console.warn("Vue Cal: No valid view in the provided `views` prop. Falling back to default views."),p={...Z.availableViews})):p={...Z.availableViews},p)}),J=k(()=>n.datePicker?"month":$.value.week?"week":Object.keys($.value)[0]),t=k(()=>{if(typeof n.selectedDate=="string")return C.stringToDate(n.selectedDate);if(n.selectedDate instanceof Date)return n.selectedDate;n.selectedDate?console.warn("Vue Cal: The provided selected date is invalid:",n.selectedDate):console.log("Vue Cal: Info - The provided selected date is undefined.")}),D=k(()=>{if(!n.disableDays)return[];const u=[];if(Array.isArray(n.disableDays))for(let v of n.disableDays){let p=v;typeof v=="string"?p=C.stringToDate(v):v instanceof Date&&(v=C.formatDate(v,"YYYY-MM-DD")),p instanceof Date&&!isNaN(p.getTime())?u.push(v):console.warn("Vue Cal: The provided `disableDays` prop contains an invalid date:",v)}else console.warn("Vue Cal: The provided `disableDays` prop is invalid:",n.disableDays);return u}),r=k(()=>{let u=null;return n.minDate&&typeof n.minDate=="string"?u=C.stringToDate(n.minDate):n.minDate&&n.minDate instanceof Date&&(u=n.minDate),(u==null?void 0:u.getTime())||null}),l=k(()=>{let u=null;return n.maxDate&&typeof n.maxDate=="string"?u=C.stringToDate(n.maxDate):n.maxDate&&n.maxDate instanceof Date&&(u=n.maxDate),(u==null?void 0:u.getTime())||null}),f=k(()=>{var p;const{view:u}=o;return n.schedules.length&&(u.isDay||u.isDays||u.isWeek)&&((p=n.schedules)==null?void 0:p.map((a,S)=>({...a,id:a.id??S+1})))||void 0}),c=k(()=>{const u={drag:!0,resize:!0,delete:!0,create:!0};return n.editableEvents===!0?u:n.editableEvents===!1?Object.keys(u).map(v=>u[v]=!1):{...u,...n.editableEvents}}),g=k(()=>{const{view:u}=o,{eventCount:v}=n;return(Array.isArray(v)?v.includes(u.id):v)&&(u.isMonth&&!n.eventsOnMonthView||u.isYear)}),T=async u=>{var p;let v=Object.assign({"../i18n/ar.json":()=>y(()=>import("./ar-BYzjjpsv.js"),[]).then(a=>a.default),"../i18n/bg.json":()=>y(()=>import("./bg-DMHwWaHq.js"),[]).then(a=>a.default),"../i18n/bn.json":()=>y(()=>import("./bn-BMHg_6Cc.js"),[]).then(a=>a.default),"../i18n/bs.json":()=>y(()=>import("./bs-BQ6MYvQz.js"),[]).then(a=>a.default),"../i18n/ca.json":()=>y(()=>import("./ca-RJZ1kJCp.js"),[]).then(a=>a.default),"../i18n/cs.json":()=>y(()=>import("./cs-DUR8CfDR.js"),[]).then(a=>a.default),"../i18n/da.json":()=>y(()=>import("./da-C24v82sE.js"),[]).then(a=>a.default),"../i18n/de.json":()=>y(()=>import("./de-BdfGCsIh.js"),[]).then(a=>a.default),"../i18n/el.json":()=>y(()=>import("./el-BbeSS82J.js"),[]).then(a=>a.default),"../i18n/en-gb.json":()=>y(()=>import("./en-gb-CdanBkea.js"),[]).then(a=>a.default),"../i18n/en-us.json":()=>y(()=>Promise.resolve().then(()=>Qe),void 0).then(a=>a.default),"../i18n/es.json":()=>y(()=>import("./es-BAvNIXnQ.js"),[]).then(a=>a.default),"../i18n/et.json":()=>y(()=>import("./et-BB2GC4z2.js"),[]).then(a=>a.default),"../i18n/fa.json":()=>y(()=>import("./fa-CLNQrKiD.js"),[]).then(a=>a.default),"../i18n/fi.json":()=>y(()=>import("./fi-C3bvOL2F.js"),[]).then(a=>a.default),"../i18n/fr.json":()=>y(()=>import("./fr-GKuwB6u6.js"),[]).then(a=>a.default),"../i18n/he.json":()=>y(()=>import("./he-dgw3ddFB.js"),[]).then(a=>a.default),"../i18n/hr.json":()=>y(()=>import("./hr-H7xnaszL.js"),[]).then(a=>a.default),"../i18n/hu.json":()=>y(()=>import("./hu-D5PQi6ht.js"),[]).then(a=>a.default),"../i18n/id.json":()=>y(()=>import("./id-C4V9iQKh.js"),[]).then(a=>a.default),"../i18n/is.json":()=>y(()=>import("./is-B36p4HLL.js"),[]).then(a=>a.default),"../i18n/it.json":()=>y(()=>import("./it-BYE8Pv4L.js"),[]).then(a=>a.default),"../i18n/ja.json":()=>y(()=>import("./ja-C_20UUx6.js"),[]).then(a=>a.default),"../i18n/ka.json":()=>y(()=>import("./ka-CNxn4HrL.js"),[]).then(a=>a.default),"../i18n/ko.json":()=>y(()=>import("./ko-C66lSvgy.js"),[]).then(a=>a.default),"../i18n/lt.json":()=>y(()=>import("./lt-CSQtJejA.js"),[]).then(a=>a.default),"../i18n/mn.json":()=>y(()=>import("./mn-OFyF7cuL.js"),[]).then(a=>a.default),"../i18n/nl.json":()=>y(()=>import("./nl-p6pls65L.js"),[]).then(a=>a.default),"../i18n/no.json":()=>y(()=>import("./no-ukJhddl5.js"),[]).then(a=>a.default),"../i18n/pl.json":()=>y(()=>import("./pl-BLhEwn5P.js"),[]).then(a=>a.default),"../i18n/pt-br.json":()=>y(()=>import("./pt-br-Bqj88eex.js"),[]).then(a=>a.default),"../i18n/pt-pt.json":()=>y(()=>import("./pt-pt-Bqj88eex.js"),[]).then(a=>a.default),"../i18n/ro.json":()=>y(()=>import("./ro-DIcQOJbf.js"),[]).then(a=>a.default),"../i18n/ru.json":()=>y(()=>import("./ru-CFk3STll.js"),[]).then(a=>a.default),"../i18n/sk.json":()=>y(()=>import("./sk-BVV3GKLZ.js"),[]).then(a=>a.default),"../i18n/sl.json":()=>y(()=>import("./sl-f5pM865d.js"),[]).then(a=>a.default),"../i18n/sq.json":()=>y(()=>import("./sq-BsCWVll4.js"),[]).then(a=>a.default),"../i18n/sr.json":()=>y(()=>import("./sr-BpAzoY7E.js"),[]).then(a=>a.default),"../i18n/sv.json":()=>y(()=>import("./sv-ifbbDt9U.js"),[]).then(a=>a.default),"../i18n/tr.json":()=>y(()=>import("./tr-CqPh9iY6.js"),[]).then(a=>a.default),"../i18n/uk.json":()=>y(()=>import("./uk-CBcda3hV.js"),[]).then(a=>a.default),"../i18n/vi.json":()=>y(()=>import("./vi-Lfa-VYGA.js"),[]).then(a=>a.default),"../i18n/zh-cn.json":()=>y(()=>import("./zh-cn-CFCd-XoD.js"),[]).then(a=>a.default),"../i18n/zh-hk.json":()=>y(()=>import("./zh-hk-BYHSteah.js"),[]).then(a=>a.default)});{if(!v[`../i18n/${u}.json`]){console.warn(`Vue Cal: the locale \`${u}\` does not exist. Falling back to \`en-us\`.`),u="en-us";return}v=await((p=v[`../i18n/${u}.json`])==null?void 0:p.call(v))}o.texts=Object.assign(o.texts,Object.assign({...Z.texts},v)),C.updateTexts(o.texts)},b=fe(n.events||[]);return G(()=>n.events,u=>b.splice(0,b.length,...u)),G(()=>n.locale,u=>T(u||"en-us")),(n.locale||!o.texts.today)&&T(n.locale||"en-us"),{...Ne(n),events:b,eventListeners:R,defaultView:J,availableViews:$,disableDays:D,ready:P,sm:W,xs:m,clickToNavigate:N,hideWeekdays:F,hideWeekends:V,minTimestamp:r,maxTimestamp:l,schedules:f,selectedDate:t,editableEvents:c,showCellEventCount:g,view:Y,get hasHiddenDays(){return Object.keys(F.value).length},get size(){return m.value?"xs":W.value?"sm":"lg"},loadTexts:T}},tt=(o,n)=>{const h=n.timeTo-n.timeFrom;return(o-n.timeFrom)*100/h},Ge=(o,n)=>{const h=n.timeTo-n.timeFrom;return~~(o*h/100+n.timeFrom)},Ze=(o,n)=>{const h=n.clientHeight;return o*100/h},he=fe({id:null,date:null});let pe=!1,_e=!0;const q=fe({el:null,cell:null,timeout:null}),K=fe({eventId:null,fromVueCal:null,toVueCal:null});function qe(o){const{config:n,view:h,eventsManager:C,emit:P,uid:Y,dateUtils:W}=o,m=r=>{var u;const{timeStep:l,timeCellHeight:f,timeFrom:c}=n,g=(((u=r.touches)==null?void 0:u[0])||r).clientY,{top:T}=r.currentTarget.getBoundingClientRect(),b=g-T-~~r.dataTransfer.getData("cursor-grab-at");return Ge(Ze(b,r.currentTarget),n)},N=(r,l,f)=>{const c=l.duration||R(l.start,l.end)||n.timeStep;let g=Math.max(m(r),0);if(n.snapToInterval){const v=g+n.snapToInterval/2;g=v-v%n.snapToInterval}const T=new Date(new Date(f).setMinutes(g)),b=Math.min(g+c,24*60),u=new Date(new Date(f).setMinutes(b));return{start:T,end:u}},R=(r,l)=>Math.round((l-r)/6e4);return{eventDragStart:(r,l)=>{if(r.target.nodeType===3||o.touch.isResizingEvent)return r.preventDefault();r.dataTransfer.effectAllowed="move",r.dataTransfer.dropEffect="move";const f={...l,_:{id:l._.id,duration:R(l.start,l.end)}};try{r.dataTransfer.setData("text/plain",""),r.dataTransfer.setData("event",JSON.stringify(f)),r.dataTransfer.setData("cursor-grab-at",r.offsetY)}catch(g){return console.warn("Vue Cal: Failed to set drag data:",g),r.preventDefault()}K.eventId=l._.id,K.fromVueCal=Y,P("event-drag-start",{e:r,event:l});const c=r.target.closest(".vuecal__event");c.classList.add("vuecal__event--dragging-ghost"),setTimeout(()=>{c.classList.add("vuecal__event--dragging-original"),c.classList.remove("vuecal__event--dragging-ghost")},0),pe=!1,Object.assign(he,{id:h.id,date:h.firstCellDate}),_e=!0,o.touch.isDraggingEvent=!0},eventDragEnd:(r,l)=>{K.eventId=null,r.target.closest(".vuecal__event").classList.remove("vuecal__event--dragging-original");const{fromVueCal:f,toVueCal:c}=K;c&&f!==c&&C.deleteEvent(l._.id,3),pe&&_e&&he.id&&h.switchView(he.id,he.date,!0),P("event-drag-end",{e:r,event:l,external:K.fromVueCal!==Y}),K.fromVueCal=null,K.toVueCal=null,o.touch.isDraggingEvent=!1},cellDragEnter:(r,l)=>{const{start:f}=l,c=r.currentTarget;if(!r.currentTarget.contains(r.relatedTarget)){if(c===q.el||!c.className.includes("vuecal__cell-content"))return!1;q.el&&(q.cell.highlighted=!1),Object.assign(q,{el:c,cell:l,timeout:clearTimeout(q.timeout)}),l.highlighted=!0,["years","year","month"].includes(h.id)&&(q.timeout=setTimeout(()=>o.switchToNarrowerView(f),2e3))}},cellDragOver:(r,l)=>{const{start:f,schedule:c}=l;r.preventDefault(),l.highlighted=!0,(c||c===0)&&(l.highlightedSchedule=c)},cellDragLeave:(r,l)=>{r.preventDefault(),!r.currentTarget.contains(r.relatedTarget)&&(l.highlightedSchedule=!1,q.cell===l&&(clearTimeout(q.timeout),Object.assign(q,{el:null,cell:null,timeout:null}),l.highlighted=!1))},cellDragDrop:async(r,l)=>{var a,S,j;r.preventDefault(),clearTimeout(q.timeout),Object.assign(q,{el:null,cell:null,timeout:null});const f=JSON.parse(r.dataTransfer.getData("event")||"{}");f.start&&(f.start=new Date(f.start)),f.end&&(f.end=new Date(f.end));let c;const{start:g,end:T}=N(r,f,l.start),{schedule:b}=((a=r.target.closest("[data-schedule]"))==null?void 0:a.dataset)||{};let u=()=>{};K.fromVueCal===Y?(c=C.getEvent(f._.id),c&&(c._.dragging=!1,u=M=>{if(c.start=g,c.end=T,b!==void 0&&(c.schedule=~~b),M&&typeof M=="object"){const{_:U,...x}=M;Object.assign(c,x)}})):(c={...f,start:g,end:T,...b!==void 0&&{schedule:~~b},_:{id:((S=f._)==null?void 0:S.id)||f.id,duration:R(g,T)},getOverlappingEvents:()=>C.getEventsInRange(g,T,{schedule:~~b})},u=M=>{if(c=C.createEvent(c),M&&typeof M=="object"){const{_:U,...x}=M;Object.assign(c,x)}});let v=!0;const{drop:p}=(j=n.eventListeners)==null?void 0:j.event;p&&(v=await p({e:r,event:{...c,start:g,end:T,schedule:~~b},overlaps:c.getOverlappingEvents({start:g,end:T,schedule:~~b}),cell:l,external:K.fromVueCal!==Y})),v!==!1&&u(v),l.highlighted=!1,l.highlightedSchedule=null,_e=!1,K.toVueCal=Y,P("event-dropped",{e:r,cell:l,event:c,originalEvent:f,external:K.fromVueCal!==Y})}}}const be=(o,n)=>{let h,C,P,Y={},W={};const m=ie(o),N=()=>{m.value.today||(m.value=n),Date.prototype.addDays=function(e){return $(this,e||0)},Date.prototype.subtractDays=function(e){return J(this,e||0)},Date.prototype.addHours=function(e){return t(this,e||0)},Date.prototype.subtractHours=function(e){return D(this,e||0)},Date.prototype.addMinutes=function(e){return r(this,e||0)},Date.prototype.subtractMinutes=function(e){return l(this,e||0)},Date.prototype.getWeek=function(){return c(this)},Date.prototype.isToday=function(){return g(this)},Date.prototype.isLeapYear=function(){return u(this)},Date.prototype.format=function(e="YYYY-MM-DD"){return U(this,e)},Date.prototype.formatTime=function(e="HH:mm"){return Q(this,e)}},R=()=>{delete Date.prototype.addDays,delete Date.prototype.subtractDays,delete Date.prototype.addHours,delete Date.prototype.subtractHours,delete Date.prototype.addMinutes,delete Date.prototype.subtractMinutes,delete Date.prototype.getWeek,delete Date.prototype.isToday,delete Date.prototype.isLeapYear,delete Date.prototype.format,delete Date.prototype.formatTime},F=e=>{m.value=e,Date.prototype.subtractDays&&N()},V=()=>(C!==new Date().getDate()&&(h=new Date,C=h.getDate(),P=`${h.getFullYear()}-${h.getMonth()}-${h.getDate()}`),P),$=(e,d)=>{const s=new Date(e.valueOf());return s.setDate(s.getDate()+d),s},J=(e,d)=>{const s=new Date(e.valueOf());return s.setDate(s.getDate()-d),s},t=(e,d)=>{const s=new Date(e.valueOf());return s.setHours(s.getHours()+d),s},D=(e,d)=>{const s=new Date(e.valueOf());return s.setHours(s.getHours()-d),s},r=(e,d)=>{const s=new Date(e.valueOf());return s.setMinutes(s.getMinutes()+d),s},l=(e,d)=>{const s=new Date(e.valueOf());return s.setMinutes(s.getMinutes()-d),s},f=(e,d)=>{const s=w=>{const I=w%d;return I!==0&&(w+=I>=d/2?d-I:-I),w};if(typeof e=="number")return s(e);if(e instanceof Date){let w=s(e.getMinutes());w>=60&&(e.setHours(e.getHours()+1),w=0),e.setMinutes(w,0,0)}},c=(e,d=!1)=>{const s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),w=s.getUTCDay()||7;s.setUTCDate(s.getUTCDate()+4-w);const I=new Date(Date.UTC(s.getUTCFullYear(),0,1));return Math.ceil(((s-I)/864e5+1)/7)+(d?1:0)},g=e=>`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`===V(),T=(e,d)=>{if(!e||!d)return console.warn(`Vue Cal: missing date${e?"2":"1"} parameter for comparison with \`isSameDate(date1, date2)\`.`);if(M(e)){if(!M(d))return console.warn(`Vue Cal: invalid date2 provided for comparison with \`isSameDate(date1, date2)\`: \`${d}\`.`)}else return console.warn(`Vue Cal: invalid date1 provided for comparison with \`isSameDate(date1, date2)\`: \`${e}\`.`);return e.getFullYear()===d.getFullYear()&&e.getMonth()===d.getMonth()&&e.getDate()===d.getDate()},b=(e,d,s)=>M(e)?e.getTime()>=d&&e.getTime()<=s:console.warn(`Vue Cal: invalid date provided to \`isInRange(date, rangeStart, rangeEnd)\`: \`${e}\`.`),u=e=>{const d=e.getFullYear();return!(d%400)||d%100&&!(d%4)},v=(e=null,d)=>{const s=e&&new Date(e.valueOf())||new Date,w=d?7:6;return s.setDate(s.getDate()-(s.getDay()+w)%7),s},p=e=>e instanceof Date?e:(e.length===10&&(e+=" 00:00"),new Date(e.replace(/-/g,"/"))),a=e=>e.getHours()*60+e.getMinutes(),S=(e,d)=>{typeof e=="string"&&(e=e.replace(/-/g,"/")),typeof d=="string"&&(d=d.replace(/-/g,"/")),e=new Date(e).setHours(0,0,0,0),d=new Date(d).setHours(0,0,1,0);const s=(new Date(d).getTimezoneOffset()-new Date(e).getTimezoneOffset())*60*1e3;return Math.ceil((d-e-s)/(24*3600*1e3))},j=(e,d,s)=>Math.abs(e.getTime()-d.getTime())<=s*60*1e3,M=e=>e&&e instanceof Date&&!isNaN(e),U=(e,d="YYYY-MM-DD",s=null)=>{if(s||(s=m.value),d||(d="YYYY-MM-DD"),d==="YYYY-MM-DD")return x(e);Y={},W={};const w={YYYY:()=>A(e,s).YYYY,YY:()=>A(e,s).YY(),M:()=>A(e,s).M,MM:()=>A(e,s).MM(),MMM:()=>A(e,s).MMM(),MMMM:()=>A(e,s).MMMM(),MMMMG:()=>A(e,s).MMMMG(),D:()=>A(e,s).D,DD:()=>A(e,s).DD(),S:()=>A(e,s).S(),d:()=>A(e,s).d,dd:()=>A(e,s).dd(),ddd:()=>A(e,s).ddd(),dddd:()=>A(e,s).dddd(),HH:()=>H(e,s).HH,H:()=>H(e,s).H,hh:()=>H(e,s).hh,h:()=>H(e,s).h,am:()=>H(e,s).am,AM:()=>H(e,s).AM,mm:()=>H(e,s).mm,m:()=>H(e,s).m,s:()=>H(e,s).s};return d.replace(/(\{[a-zA-Z]+\}|[a-zA-Z]+)/g,(I,X)=>{const L=w[X.replace(/\{|\}/g,"")];return L!==void 0?L():X})},x=e=>{const d=e.getMonth()+1,s=e.getDate();return`${e.getFullYear()}-${d<10?"0":""}${d}-${s<10?"0":""}${s}`},Q=(e,d="HH:mm",s=null,w=!1)=>{let I=!1;if(w){const[me,se,le]=[e.getHours(),e.getMinutes(),e.getSeconds()];me+se+le===141&&(I=!0)}if(e instanceof Date&&d==="HH:mm")return I?"24:00":oe(e);W={},s||(s=m.value);const X=H(e,s),L=d.replace(/(\{[a-zA-Z]+\}|[a-zA-Z]+)/g,(me,se)=>{const le=X[se.replace(/\{|\}/g,"")];return le!==void 0?le:se});return I?L.replace("23:59","24:00"):L},oe=e=>{const d=e.getHours(),s=e.getMinutes();return`${(d<10?"0":"")+d}:${(s<10?"0":"")+s}`},z=e=>{const d=Math.floor(e/60).toString().padStart(2,0),s=(e%60).toString().padStart(2,0);return`${d}:${s}`},ve=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},A=(e,d)=>{if(Y.D)return Y;const s=e.getFullYear(),w=e.getMonth()+1,I=e.getDate(),L=(e.getDay()-1+7)%7;return Y={YYYY:s,YY:()=>s.toString().substring(2),M:w,MM:()=>w.toString().padStart(2,0),MMM:()=>d.months[w-1].substring(0,3),MMMM:()=>d.months[w-1],MMMMG:()=>(d.monthsGenitive||d.months)[w-1],D:I,DD:()=>I.toString().padStart(2,0),S:()=>ve(I),d:L+1,dd:()=>d.weekDaysShort.length?d.weekDaysShort[L]:d.weekDays[L][0],ddd:()=>d.weekDaysShort.length?d.weekDaysShort[L]:d.weekDays[L].substr(0,3),dddd:()=>d.weekDays[L]},Y},H=(e,d)=>{if(W.am)return W;let s,w,I;e instanceof Date?(s=e.getHours(),w=e.getMinutes(),I=e.getSeconds()):(s=Math.floor(e/60),w=Math.floor(e%60));const X=s%12?s%12:12,L=(d||{am:"am",pm:"pm"})[s===24||s<12?"am":"pm"];return W={H:s,h:X,HH:s.toString().padStart(2,0),hh:X.toString().padStart(2,0),am:L,AM:L.toUpperCase(),m:w,mm:w.toString().padStart(2,0),s:I},W};return{addDatePrototypes:N,removeDatePrototypes:R,updateTexts:F,addDays:$,subtractDays:J,addHours:t,subtractHours:D,addMinutes:r,subtractMinutes:l,snapToInterval:f,getWeek:c,isToday:g,isSameDate:T,isInRange:b,isLeapYear:u,getPreviousFirstDayOfWeek:v,stringToDate:p,dateToMinutes:a,countDays:S,datesInSameTimeStep:j,isValid:M,formatDate:U,formatDateLite:x,formatTime:Q,formatTimeLite:oe,formatMinutes:z}},Ke=o=>{const{dateUtils:n,config:h}=o;let C=0;const P=k(()=>{const t={byYear:{},byDate:{},recurring:[],multiday:[],byId:{}},D=h.events.sort((r,l)=>r.start-l.start<0?-1:1);for(const r of D)if(Y(r),W(r),t.byId[r._.id]=r,r.recurring)t.recurring.push(r._.id);else if(r._.multiday)t.multiday.push(r._.id),t.byDate[r._.startFormatted]||(t.byDate[r._.startFormatted]=[]),t.byDate[r._.startFormatted].push(r._.id);else{t.byDate[r._.startFormatted]||(t.byDate[r._.startFormatted]=[]),t.byDate[r._.startFormatted].push(r._.id);const l=r._.startFormatted.substring(0,4),f=r._.startFormatted.substring(5,7),c=r._.startFormatted.substring(8,10);t.byYear[l]||(t.byYear[l]={}),t.byYear[l][f]||(t.byYear[l][f]={}),t.byYear[l][f][c]||(t.byYear[l][f][c]=[]),t.byYear[l][f][c].push(r._.id)}return t}),Y=t=>{if(typeof t.start=="string"&&(t.start=n.stringToDate(t.start)),typeof t.end=="string"&&(t.end=n.stringToDate(t.end)),t.start.setSeconds(0,0),t.end.getSeconds()>=59?t.end.setMinutes(60,0,0):t.end.setSeconds(0,0),isNaN(t.start)||isNaN(t.end)||t.end.getTime()<t.start.getTime()){isNaN(t.start)?console.error(`Vue Cal: invalid start date for event "${t.title}".`,t.start):isNaN(t.end)?console.error(`Vue Cal: invalid end date for event "${t.title}".`,t.end):console.error(`Vue Cal: invalid event dates for event "${t.title}". The event ends before it starts.`,t.start,t.end);return}t._||(t._={}),t._.multiday=!n.isSameDate(t.start,new Date(t.end.getTime()-1)),t._.startFormatted=n.formatDate(t.start),t._.startMinutes=~~n.dateToMinutes(t.start),t._.endMinutes=~~n.dateToMinutes(t.end);const D=t.start.getHours(),r=t.start.getMinutes().toString().padStart(2,0),l=t.end.getHours(),f=t.end.getMinutes().toString().padStart(2,0);t._.startTimeFormatted24=`${D.toString().padStart(2,0)}:${r}`,t._.startTimeFormatted12=`${D%12||12}${r?`:${r}`:""} ${D<12?"AM":"PM"}`,t._.endTimeFormatted24=`${l.toString().padStart(2,0)}:${f}`,t._.endTimeFormatted12=`${l%12||12}${f?`:${f}`:""} ${l<12?"AM":"PM"}`,t._.duration=Math.abs(~~((t.end-t.start)/6e4))},W=t=>{t._||(t._={}),t._.id=t._.id||++C,t.delete||(t.delete=D=>F(t._.id,D)),t._.deleting=!1,t._.deleted=!1,t.isOverlapping=(D=null)=>t.getOverlappingEvents(D).length,t.getOverlappingEvents=(D=null)=>{var r;return $((D==null?void 0:D.start)||t.start,(D==null?void 0:D.end)||t.end,{excludeIds:[t._.id],schedule:(r=h.schedules)!=null&&r.length?~~((D==null?void 0:D.schedule)||t.schedule):null})},t._.register=D=>{t._.$el=D,t._.fireCreated&&(o.emit("event-created",t),delete t._.fireCreated)},t._.unregister=()=>{t._.$el=null,t._.register=null,t.isOverlapping=null,t.getOverlappingEvents=null,t.delete=null}},m=t=>P.value.byId[t],N=t=>{const D=[];for(const{start:r,end:l}of t){const f=$(r,l);f.length&&D.push(...f)}return D},R=t=>{if(!t.start||!t.end){console.error("Vue Cal: Cannot create an event without valid start and end dates.");return}return h.snapToInterval&&(n.snapToInterval(t.start,h.snapToInterval),n.snapToInterval(t.end,h.snapToInterval)),t={...t},t._||(t._={}),t._.id=++C,t._.fireCreated=!0,h.events.push(t),t},F=async(t,D=0)=>{var g,T;if(!t)return console.warn("Vue Cal: Cannot delete event without its ID or criteria.");let r=typeof t=="string"||!isNaN(t)?t:null;const l=typeof t=="object"?Object.entries(t):null;if(l){const[b,u]=l[0];r=(g=h.events.find(v=>v[b]===u))==null?void 0:g._.id}if(!h.editableEvents.delete)return console.info("Vue Cal: Event deletion is disabled. Enable it with the `editable-events` props.");if(!r)return console.warn("Vue Cal: Cannot delete event without its ID.");const f=h.events.findIndex(b=>b._.id===r);if(f===-1)return console.warn(`Vue Cal: Cannot delete unknown event \`${r}\`.`);const c=h.events[f];if(c.deletable===!1)return console.warn(`Vue Cal: Can't delete event \`${r}\` since it was explicitely set to \`delete: false\`.`);switch(D){case 0:c._.deleting?h.events.splice(f,1):c._.deleting=!0;break;case 1:c._.deleting=!0;break;case 2:c._.deleted=!0,h.events[f]._.deleted=!0,(T=c._.$el)==null||T.dispatchEvent(new CustomEvent("event-deleted",{detail:c._.id}));break;case 3:h.events.splice(f,1),o.emit("update:events",h.events),o.emit("event-delete",c);break}return!0},V=(t,D)=>{const r=$(t,D);if(!r.length)return{cellOverlaps:{},longestStreak:0};const l={};let f=[],c=0;r.sort((g,T)=>g.start-T.start||g.end-g.start-(T.end-T.start));for(const g of r){const T=g._.id;l[T]||(l[T]={overlaps:new Set,maxConcurrent:1,position:0}),f=f.filter(a=>a.end>g.start);const b=f.filter(a=>{var j;return(!((j=h.schedules)!=null&&j.length)||g.schedule===a.schedule)&&a.start<g.end}),u=new Set(b.map(a=>{var S;return((S=l[a._.id])==null?void 0:S.position)??0}));let v=0;for(;u.has(v);)v++;l[T].position=v,f.push(g);const p=Math.max(1,...b.map(a=>{var S;return((S=l[a._.id])==null?void 0:S.maxConcurrent)??1}));l[T].maxConcurrent=Math.max(b.length+1,p);for(const a of b)l[a._.id].overlaps.add(T),l[T].overlaps.add(a._.id),l[a._.id].maxConcurrent=l[T].maxConcurrent;c=Math.max(c,l[T].maxConcurrent)}for(const g in l)l[g].overlaps=[...l[g].overlaps];return{cellOverlaps:l,longestStreak:c}},$=(t,D,{excludeIds:r=[],schedule:l=null,background:f=!0}={})=>{const c=t.getFullYear(),g=D.getFullYear(),T=t.getMonth()+1,b=D.getMonth()+1,u=t.getDate(),v=D.getDate(),p=t.getTime(),a=D.getTime(),S=[],j=new Set(r);for(let M=c;M<=g;M++){const U=`${M}`,x=P.value.byYear[U];if(!x)continue;const Q=M===c?T:1,oe=M===g?b:12;for(let z=Q;z<=oe;z++){const ve=String(z).padStart(2,"0"),A=x[ve];if(A)for(const H in A){const e=+H;if(M===c&&z===T&&e<u||M===g&&z===b&&e>v)continue;const d=A[H];for(let s=0;s<d.length;s++){const w=P.value.byId[d[s]];!w||j.has(w._.id)||l!==null&&l!==w.schedule||f===!1&&w.background||w.end.getTime()>p&&w.start.getTime()<a&&S.push(w)}}}}return S};return{events:P,getEvent:m,getViewEvents:N,getCellOverlappingEvents:V,getEventsInRange:$,createEvent:R,deleteEvent:F,isEventInRange:(t,D,r)=>{const l=t.allDay||!h.time,f=l?new Date(t.start).setHours(0,0,0,0):t.start.getTime(),c=l?new Date(t.end).setHours(23,59,59,999):t.end.getTime(),g=l?new Date(D).setHours(0,0,0,0):D.getTime(),T=l?new Date(r).setHours(23,59,59,999):r.getTime();return c>g&&f<T}}},Ue=({config:o,dateUtils:n,emit:h,texts:C,eventsManager:P},Y)=>{const{availableViews:W}=o,m=ie(o.view&&W[o.view]?o.view:o.defaultView),N=ie(o.selectedDate||null),R=ie(new Date),F=ie(new Date(o.viewDate||R.value));F.value.setHours(0,0,0,0);const V=ie(new Date(F));let $=null;const J=k(()=>m.value==="month"?V.value:u.value),t=k(()=>m.value==="month"?new Date(V.value.getFullYear(),V.value.getMonth()+1,0,23,59,59,999):p.value),D=k(()=>m.value==="week"?n.getPreviousFirstDayOfWeek(u.value,o.startWeekOnSunday):m.value==="month"?u.value:J.value),r=k(()=>{if(m.value==="week"){const i=n.addDays(D.value,7);return i.setMilliseconds(-1),i}return m.value==="month"?p.value:t.value}),l=k(()=>{const i=R.value.getTime();if(m.value==="week")return D.value.getTime()<=i&&i<=r.value.getTime();const _=u.value.getTime(),O=p.value.getTime();return _<=i&&i<=O});function f(){R.value=new Date,$=setTimeout(f,60*1e3)}function c(){$=setTimeout(f,(60-new Date().getSeconds())*1e3),f()}const g=k(()=>{if(!o.availableViews[m.value])return 1;let i=o.availableViews[m.value].cols;return o.hasHiddenDays&&["week","month"].includes(m.value)&&(i-=o.hasHiddenDays),i}),T=k(()=>{var i;return((i=o.availableViews[m.value])==null?void 0:i.rows)||1}),b=k(()=>g.value*T.value),u=k(()=>{if(m.value==="month"){let i=V.value.getDay()||7;return o.startWeekOnSunday&&!o.hideWeekdays[7]&&(i+=1),o.viewDayOffset&&(i-=o.viewDayOffset),n.subtractDays(V.value,i-1)}if(m.value==="week"){const i="1234567".split("").filter(O=>!Object.keys(o.hideWeekdays).includes(O));let _=Math.min(...i);return o.startWeekOnSunday&&!o.hideWeekdays[7]&&(_=1),o.viewDayOffset&&(_+=o.viewDayOffset),n.addDays(V.value,_-1)}return V.value}),v=k(()=>{const i=[],_=["days","week","month"].includes(m.value);let O=0;for(let E=0;E<b.value+O;E++)switch(m.value){case"day":case"days":case"week":case"month":{const B=n.addDays(u.value,E),De=B.getDay()||7;if(_&&o.hasHiddenDays&&o.hideWeekdays[De]){O++;continue}const re=new Date(B);re.setHours(23,59,59,999),i.push({start:B,startFormatted:n.formatDate(B),end:re});break}case"year":i.push({start:new Date(u.value.getFullYear(),E,1,0,0,0,0),end:new Date(u.value.getFullYear(),E+1,0,23,59,59,999)});break;case"years":i.push({start:new Date(u.value.getFullYear()+E,0,1,0,0,0,0),end:new Date(u.value.getFullYear()+E+1,0,0,23,59,59,999)});break}return i}),p=k(()=>v.value[v.value.length-1].end),a=ie("right"),S=k(()=>{const i=Object.keys(o.availableViews);return i[i.indexOf(m.value)+1]}),j=k(()=>{const i=Object.keys(o.availableViews);return i[i.indexOf(m.value)-1]});function M(i,_,O=!1){if(!_||!_[i])return i+1;const E=_[i];return O&&typeof E=="string"?E.substring(0,3):E}function U(i,_,O){const{monthsArray:E,monthBeforeDay:B,canTruncate:De,xs:re}=O,te=i.getMonth(),ae=i.getFullYear(),ne=_.getMonth(),ue=_.getFullYear(),ge=te!==ne,We=ae!==ue,ee=De&&(re||ge),de=i.getDate(),ce=_.getDate();return We?B?`${M(te,E,ee)} ${de}, ${ae} - ${M(ne,E,ee)} ${ce}, ${ue}`:`${de} ${M(te,E,ee)} ${ae} - ${ce} ${M(ne,E,ee)} ${ue}`:ge?B?`${M(te,E,ee)} ${de} - ${M(ne,E,ee)} ${ce}, ${ae}`:`${de} ${M(te,E,ee)} - ${ce} ${M(ne,E,ee)} ${ae}`:B?`${M(te,E,ee)} ${de}-${ce}, ${ae}`:`${de}-${ce} ${M(te,E,ee)} ${ae}`}const x=k(()=>{const{dateFormat:i,months:_,monthsGenitive:O,week:E,truncations:B}=C,De=o.locale,re=B!==!1,te=i.indexOf("M")<i.indexOf("D"),ae=O&&De==="el"?O:_;switch(m.value){case"day":return n.formatDate(u.value,i);case"days":case"week":{const ne={monthsArray:ae,monthBeforeDay:te,canTruncate:re,xs:o.xs};let ue=U(u.value,p.value,ne);if(m.value==="week"){const ge=n.getWeek(u.value,o.startWeekOnSunday&&!o.hideWeekdays[7]);ue+=` <small>${E} ${ge}</small>`}return ue}case"month":{const ne=`${o.xs&&re?"MMM":"MMMM"} YYYY`;return n.formatDate(J.value,ne)}case"year":return u.value.getFullYear();case"years":return`${u.value.getFullYear()} - ${t.value.getFullYear()}`}});function Q(){switch(V.value=new Date(F.value||R.value),V.value.setHours(0,0,0,0),m.value){case"day":break;case"days":break;case"week":V.value=n.getPreviousFirstDayOfWeek(V.value,o.startWeekOnSunday&&!o.hideWeekdays[7]);break;case"month":V.value=new Date(V.value.getFullYear(),V.value.getMonth(),1,0,0,0,0);break;case"year":V.value=new Date(V.value.getFullYear(),0,1,0,0,0,0);break;case"years":V.value=new Date(V.value.getFullYear()-V.value.getFullYear()%b.value,0,1,0,0,0,0);break}o.ready&&h("view-change",{id:m.value,title:x.value,start:J.value,end:t.value,extendedStart:D.value,extendedEnd:r.value,cellDates:v.value,containsToday:l.value,events:Te.value}),R.value=new Date}function oe(i){const _=m.value,O=o.availableViews[_];i[_]&&JSON.stringify(i[_])===JSON.stringify(O)||Q()}function z(i,_=!0){const O=Object.keys(o.availableViews);m.value!==i&&(O.includes(i)?(a.value=O.indexOf(i)<O.indexOf(m.value)?"left":"right",m.value=i,h("update:view",i),Q()):console.warn(`Vue Cal: the \`${i}\` view is not available.`))}function ve(){S.value?z(S.value):console.warn("Vue Cal: no broader view is available.")}function A(){j.value?z(j.value):console.warn("Vue Cal: no narrower view is available.")}function H(){d(!1)}function e(){d(!0)}function d(i=!0){let _=new Date(F.value);switch(m.value){case"day":case"days":i?_=n.addDays(p.value,1):_=n.subtractDays(u.value,b.value);break;case"week":{i?(_=n.addDays(r.value,1),_.setHours(0,0,0,0)):_=n.subtractDays(D.value,b.value);break}case"month":{const O=i?1:-1;_=new Date(_.getFullYear(),_.getMonth()+O,1,0,0,0,0);break}case"year":{const O=i?1:-1;_=new Date(_.getFullYear()+O,1,1,0,0,0,0);break}case"years":{const O=i?b.value:-b.value;_=new Date(_.getFullYear()+O,1,1,0,0,0,0);break}}w(_)}function s(){const i=new Date;i.setHours(0,0,0,0),w(i)}function w(i,_=!0,O=!1){if(!n.isValid(i))return console.warn("Vue Cal: can't navigate to the given date: invalid date provided to `updateViewDate(date)`.");let[E,B]=[u.value,p.value];m.value==="month"&&([E,B]=[J.value,t.value]),(!n.isInRange(i,E,B)||O)&&(i.setHours(0,0,0,0),a.value=i.getTime()<E.getTime()?"left":"right",F.value=i,_&&h("update:viewDate",i),Q())}function I(i,_=!0){if(!n.isValid(i))return console.warn("Vue Cal: can't update the selected date: invalid date provided to `updateSelectedDate(date)`.");const{isValid:O,isSameDate:E}=n;(!N.value||!O(N.value)||!E(i,N.value))&&(i.setHours(0,0,0,0),N.value=i,_&&h("update:selectedDate",i))}function X(i){!i&&!V.value.getDay()?w(n.addDays(V.value,1),!0,!0):(a.value="left",Q())}function L(i){i&&o.startWeekOnSunday&&!V.value.getDay()?w(n.addDays(V.value,1),!0,!0):!i&&o.startWeekOnSunday&&V.value.getDay()===1&&w(n.subtractDays(V.value,1),!0,!0)}function me(){console.log("toggling weekdays",o.hideWeekdays)}function se(i){var E;const _=(E=Y.value)==null?void 0:E.querySelector(".vuecal__scrollable"),O=i?i*o.timeCellHeight/o.timeStep:0;_==null||_.scrollTo({top:O,behavior:"smooth"})}function le(){const i=new Date;se(i.getHours()*60+i.getMinutes())}function Le(){se(0)}const Te=k(()=>P.getViewEvents(v.value)),Re=P.createEvent,He=P.deleteEvent;return G(()=>o.view,i=>z(i,!1)),G(()=>o.availableViews,oe),G(()=>o.datePicker,()=>z("month",!1)),G(()=>o.viewDate,i=>w(i,!1)),G(()=>o.selectedDate,i=>I(i,!1)),G(()=>o.startWeekOnSunday,i=>X(i)),G(()=>o.hideWeekends,i=>L(i)),G(()=>o.hideWeekdays,me),G(()=>b.value,()=>{b.value>90&&console.warn("Vue Cal: high cell count detected. Performance may degrade when interactions are enabled.")}),G(()=>o.watchRealTime,i=>{i&&o.time?c():$=clearTimeout($)}),Q(),o.time&&o.watchRealTime&&c(),xe(()=>$=clearTimeout($)),{now:R,id:m,broaderView:S,narrowerView:j,title:x,viewDate:F,start:J,end:t,extendedStart:D,extendedEnd:r,firstCellDate:u,lastCellDate:p,containsToday:l,selectedDate:N,cellDates:v,cols:g,rows:T,events:Te,transitionDirection:a,switch:z,broader:ve,narrower:A,previous:H,next:e,navigate:d,goToToday:s,updateViewDate:w,updateSelectedDate:I,scrollToCurrentTime:le,scrollToTime:se,scrollTop:Le,createEvent:Re,deleteEvent:He,get isDay(){return m.value==="day"},get isDays(){return m.value==="days"},get isWeek(){return m.value==="week"},get isMonth(){return m.value==="month"},get isYear(){return m.value==="year"},get isYears(){return m.value==="years"}}},Me=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ee=["January","February","March","April","May","June","July","August","September","October","November","December"],Ve="Years",ke="Year",Oe="Month",Ye="Week",Se="Days",$e="Day",je="Today",Ce="No Event",Ie="All day",Ae="Delete",Pe="Create an event",Fe="dddd, MMMM D, YYYY",we={weekDays:Me,months:Ee,years:Ve,year:ke,month:Oe,week:Ye,days:Se,day:$e,today:je,noEvent:Ce,allDay:Ie,deleteEvent:Ae,createEvent:Pe,dateFormat:Fe},Qe=Object.freeze(Object.defineProperty({__proto__:null,allDay:Ie,createEvent:Pe,dateFormat:Fe,day:$e,days:Se,default:we,deleteEvent:Ae,month:Oe,months:Ee,noEvent:Ce,today:je,week:Ye,weekDays:Me,year:ke,years:Ve},Symbol.toStringTag,{value:"Module"})),ye=fe({texts:{...Z.texts},dateUtils:be(Z.texts,we)}),at=({props:o,emit:n,attrs:h,vuecalEl:C,uid:P})=>{const Y=fe({uid:P,emit:n,texts:{...ye.texts},dateUtils:{...ye.dateUtils},now:new Date,config:{},eventsManager:{},view:{},dnd:{},touch:{isDraggingCell:!1,isDraggingEvent:!1,isResizingEvent:!1}});return Y.dateUtils=be(Object.assign(Z.texts,Y.texts),we),Y.config=Je(Y,o,h),Y.eventsManager=Ke(Y),Y.view=Ue(Y,C),Y.dnd=qe(Y),Y},{addDatePrototypes:nt,removeDatePrototypes:st,updateTexts:rt,addDays:it,subtractDays:ot,addHours:lt,subtractHours:ut,addMinutes:dt,subtractMinutes:ct,getWeek:ft,isToday:vt,isSameDate:Dt,isInRange:mt,isLeapYear:gt,getPreviousFirstDayOfWeek:ht,stringToDate:_t,dateToMinutes:yt,countDays:wt,datesInSameTimeStep:Tt,isValid:pt,formatDate:bt,formatDateLite:Mt,formatTime:Et,formatTimeLite:Vt,formatMinutes:kt}=ye.dateUtils;export{it as a,nt as b,wt as c,et as d,Ze as e,bt as f,tt as m,Ge as p,_t as s,at as u,ze as w};
