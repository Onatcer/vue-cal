import{b as x,s as f,c as V}from"./index-DfVwsAkv.js";import{u as M,r as s,x as m,c as l,b as R,e as g,f as v,w as p,h as c,a as T,y as N,g as z,d as B}from"./index-g7dlQEvH.js";import{_ as O}from"./index-CMEGMoFs.js";const P={class:"test-view"},A={class:"w-flex gap2"},F={class:"w-flex gap2 mt4 ovh"},j={__name:"isolated-test-view",setup(S){x();const u=M(),w=s(null);m({datePicker:!0,dark:l(()=>u.darkMode),selectedDate:l(()=>n.selectedDate),locale:l(()=>n.locale)});const n=m({view:s("week"),dark:l(()=>u.darkMode),selectedDate:s(null),viewDate:s(new Date),locale:s(""),startWeekOnSunday:s(!1),todayButton:s(!0),xs:s(!1),sm:s(!1),timeFrom:8*60,timeTo:19*60,timeStep:60,twelveHour:s(!1),hideWeekends:s(!1),hideWeekdays:s([]),viewDayOffset:s(0),clickToNavigate:s(!1),watchRealTime:s(!0),events:s([]),eventsOnMonthView:!0,editableEvents:s(!1)});setTimeout(()=>{n.events=[{title:"Event 1",start:new Date(new Date().setHours(10,0,0,0)),end:new Date(new Date().setHours(10,30,0,0)),schedule:1},{title:"Event 2",start:new Date(new Date().addDays(1).setHours(11,0,0,0)),end:new Date(new Date().addDays(1).setHours(11,30,0,0)),schedule:2}]},1e3);const E=()=>{n.events.push({title:`Event ${n.events.length}`,start:new Date().subtractHours(4),end:new Date().subtractHours(3),schedule:2})},k=()=>{w.value.view.createEvent({title:"New Event!",start:new Date().subtractHours(2),end:new Date().subtractHours(1),schedule:1})},o=(...a)=>console.log(...a),C=a=>{y(a.start.format(),a.end.format())},y=async(a,e)=>{console.log("fetchEvents",a,e),await new Promise(d=>setTimeout(d,500));const r=f(a),t=f(e);n.events=H(r,t)},H=(a,e)=>{const r=V(a,e),t=[];for(let d=0;d<r;d++)for(let i=0;i<10;i++){const D=new Date(a.addDays(d).setHours(Math.floor(Math.random()*8)+9,Math.floor(Math.random()*60),0,0)),b=D.addHours(1);t.push({title:`Event ${i}`,start:D,end:b})}return console.log("events",t),t};return(a,e)=>{const r=T("w-button");return B(),R("div",P,[g("div",A,[v(r,{onClick:E},{default:p(()=>e[12]||(e[12]=[c("Add event")])),_:1}),v(r,{onClick:k},{default:p(()=>e[13]||(e[13]=[c("Add event")])),_:1})]),g("div",F,[v(z(O),N({class:"grow",ref_key:"vueCalRef",ref:w,view:n.view,"onUpdate:view":e[0]||(e[0]=t=>n.view=t),"selected-date":n.selectedDate,"onUpdate:selectedDate":e[1]||(e[1]=t=>n.selectedDate=t),"view-date":n.viewDate,"onUpdate:viewDate":e[2]||(e[2]=t=>n.viewDate=t)},n,{onViewChange:C,onEventCreate:e[3]||(e[3]=t=>o("event-create",t)),onEventClick:e[4]||(e[4]=t=>o("event-click",t)),onEventDrag:e[5]||(e[5]=t=>o("event-drag",t)),onEventDragEnd:e[6]||(e[6]=t=>o("event-drag",t)),onEventDrop:e[7]||(e[7]=t=>o("event-drop",t)),onEventResize:e[8]||(e[8]=t=>o("event-resize",t)),onEventResizeEnd:e[9]||(e[9]=t=>o("event-resize-end",t)),onCellDrag:e[10]||(e[10]=t=>o("cell-drag",t)),onCellDragEnd:e[11]||(e[11]=t=>o("cell-drag-end",t))}),null,16,["view","selected-date","view-date"])])])}}};export{j as default};
